{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputPicker = document.querySelector('#datetime-picker');\nconst buttonStart = document.querySelector('[data-start]');\nconst daysTimer = document.querySelector('[data-days]');\nconst hoursTimer = document.querySelector('[data-hours]');\nconst minutesTimer = document.querySelector('[data-minutes]');\nconst secondsTimer = document.querySelector('[data-seconds]');\nbuttonStart.setAttribute('disabled', '');\nlet userSelectedDate = null;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0].getTime();\n        buttonStart.removeAttribute('disabled');\n      if (userSelectedDate<Date.now()) {\n          buttonStart.setAttribute('disabled', '');\n          iziToast.error({\n              messageColor:'#FFF',\n              color:'#EF4040',\n              iconUrl: 'img/close.svg',\n              position: 'topRight',\n              message: 'Please choose a date in the future',\n});          \n}   \n}\n};\n\nflatpickr(inputPicker, options);\n\n\nbuttonStart.addEventListener('click', onClickStart)\n\nfunction onClickStart() {\n    const intervalId=setInterval(() => {\n    let timeToLeft = userSelectedDate-Date.now();\n        \n      if (timeToLeft<=0) {\n          clearInterval(intervalId);\n          buttonStart.setAttribute('disabled','');\n          iziToast.info({\n              position: 'center',\n              message: 'It is your time!',\n          });\n          return;\n        };\n        \n    const { days, hours, minutes, seconds } = convertMs(timeToLeft);\n    daysTimer.textContent = `${addLeadingZero(days)}`;\n    hoursTimer.textContent = `${addLeadingZero(hours)}`;\n    minutesTimer.textContent = `${addLeadingZero(minutes)}`;\n    secondsTimer.textContent = `${addLeadingZero(seconds)}`;\n    }, 1000);\n}\n  \n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    return {days,hours,seconds,minutes};\n};\n\nfunction addLeadingZero(value){\nreturn value.toString().padStart(2, '0'); \n}\n\n"],"names":["inputPicker","buttonStart","daysTimer","hoursTimer","minutesTimer","secondsTimer","userSelectedDate","options","selectedDates","iziToast","flatpickr","onClickStart","intervalId","timeToLeft","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"2GAKA,MAAMA,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAC5DJ,EAAY,aAAa,WAAY,EAAE,EACvC,IAAIK,EAAmB,KACvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,GAAG,QAAO,EAC3CP,EAAY,gBAAgB,UAAU,EACpCK,EAAiB,KAAK,QACtBL,EAAY,aAAa,WAAY,EAAE,EACvCQ,EAAS,MAAM,CACX,aAAa,OACb,MAAM,UACN,QAAS,gBACT,SAAU,WACV,QAAS,oCACvB,CAAC,EAED,CACA,EAEAC,EAAUV,EAAaO,CAAO,EAG9BN,EAAY,iBAAiB,QAASU,CAAY,EAElD,SAASA,GAAe,CACpB,MAAMC,EAAW,YAAY,IAAM,CACnC,IAAIC,EAAaP,EAAiB,KAAK,IAAG,EAExC,GAAIO,GAAY,EAAG,CACf,cAAcD,CAAU,EACxBX,EAAY,aAAa,WAAW,EAAE,EACtCQ,EAAS,KAAK,CACV,SAAU,SACV,QAAS,kBACvB,CAAW,EACD,MAEV,CACI,KAAM,CAAE,KAAAK,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAU,EAC9DX,EAAU,YAAc,GAAGiB,EAAeL,CAAI,IAC9CX,EAAW,YAAc,GAAGgB,EAAeJ,CAAK,IAChDX,EAAa,YAAc,GAAGe,EAAeH,CAAO,IACpDX,EAAa,YAAc,GAAGc,EAAeF,CAAO,GACnD,EAAE,GAAI,CACX,CAGA,SAASC,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAE/CH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAC,KAAAN,EAAK,MAAAC,EAAM,QAAAE,EAAQ,QAAAD,CAAO,CACtC,CAEA,SAASG,EAAeE,EAAM,CAC9B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACvC"}